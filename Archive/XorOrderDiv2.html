<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Welcome to the Festival of Binary Numbers!
The festival will last for 2^<b>m</b> days.
The days are numbered 0 through 2^<b>m</b> - 1.
On each day of the festival there is a single race.
There are n contestants, numbered 0 through n-1.
Each contestant takes part in all 2^<b>m</b> races.
</p>
<br></br>
<p>
You are given the int <b>m</b> and a vector &lt;int&gt; <b>a</b> with n elements.
For each i, the skill level of contestant i is <b>a</b>[i].
All <b>a</b>[i] are integers between 0 and 2^<b>m</b> - 1, inclusive.
Additionally, all <b>a</b>[i] are distinct.
</p>
<br></br>
<p>
For each i and j, the time needed by contestant i to finish the race on day j can be computed as (a[i] xor j).
Note that on each day the contestants' times will all be distinct.
After each race the contestants are ordered according to the time they needed, starting with the fastest one.
Contestant who places x-th (counting from zero) will get x^2 penalty points.
(I.e., starting from the winner of the race, the contestants get 0, 1, 4, 9, 16, ... penalty points.)
For each i, let p[i] be the total number of penalty points contestant i receives in the 2^<b>m</b> races.
</p>
<br></br>
<p>
Compute and return the vector&lt;long long&gt; p.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>XorOrderDiv2</td></tr><tr><td>Method:</td><td>getExpectation</td></tr><tr><td>Parameters:</td><td>int, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>vector&lt;long long&gt;</td></tr><tr><td>Method signature:</td><td>vector&lt;long long&gt; getExpectation(int m, vector &lt;int&gt; a)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>m</b> will be between 1 and 30, inclusive.  </td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> will contain between 1 and 1,000 elements, inclusive.  </td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>a</b> will be between 0 and 2^<b>m</b> - 1, inclusive.  </td></tr><tr><td align="center" valign="top">-</td><td>All elements in <b>a</b> will be distinct.  </td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>{0,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {6, 6, 8 }</pre></td></tr><tr><td><table><tr><td colspan="2">There are 2^2 = 4 days and 3 contestants. Their skill levels are a = {0, 1, 2}.
The individual races are described below:
<ul>
<li>day 0: finishing times are {0, 1, 2}, penalty points are {0, 1, 4}.</li>
<li>day 1: finishing times are {1, 0, 3}, penalty points are {1, 0, 4}.</li>
<li>day 2: finishing times are {2, 3, 0}, penalty points are {1, 4, 0}.</li>
<li>day 3: finishing times are {3, 2, 1}, penalty points are {4, 1, 0}.</li>
</ul>
Hence, the penalty point totals are {6, 6, 8}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>{1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{13,17}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {16, 16 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>30</pre></td></tr><tr><td><pre>{1,2,3,4,5,6,7,8,9,10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 
{29527900160, 28991029248, 28991029248, 27917287424, 27917287424, 27917287424,
 27917287424, 35433480192, 35433480192, 35970351104 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
